using UnityEngine;
using Hobbies;

public class #SCRIPTNAME# : GameManagement {
    #region Singletone

    public static GameManager Instance { get; private set; }

    public override void Awake() {
        base.Awake();

        if (Instance == null) {
            Instance = this;
        } else Destroy(this.gameObject);
    }

    #endregion

    void OnEnable() {
        onGameStarted += GameStarted;
        onLvlCompleted += LvlCompleted;
        onGameOver += GameOver;
    }

    void OnDisable() {
        onGameStarted -= onGameStarted;
        onLvlCompleted -= LvlCompleted;
        onGameOver -= GameOver;
    }

    public void GameStartBtn() {
        onGameStarted?.Invoke();
    }

    void GameStarted() {
        if (isGameStarted)
            return;

        isGameStarted = true;
        GameStartEvent?.Invoke();
    }

    void LvlCompleted() {
        if (isLvlCompleted)
            return;

        isLvlCompleted = true;
        LvlCompletedEvent?.Invoke();
    }

    void GameOver() {
        if (isGameOver)
            return;

        isGameOver = true;
        GameOverEvent?.Invoke();
    }

    public void RestartBtn() {
        SceneLoad.Restart();
    }
}